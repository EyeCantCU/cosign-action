# cosign-action

These actions exist to further automate the usage of sigstore's 'cosign'.

# Actions

## Sign

The 'sign' action signs the target container using a private key stored as a repository secret. The secret must be named `SIGNING_SECRET`. It is the private key generated by 'cosign' when creating a key pair.

Example implementation:

```yaml
jobs:
  example:
    runs-on: ubuntu-latest

    permissions: {}

    name: Sign container with Cosign
    steps:
      - name: Sign container
        uses: EyeCantCU/cosign-action/sign@v0.1.0
        with:
          container: ghcr.io/ublue-os/silverblue-main
          registry: ghcr.io
          tags: latest
```

## Verify

The 'verify' action validates the target container's signature via the public key. For example, for Universal Blue, this is the `cosign.pub` file stored in the root of all image repositories.

Example implementation:

```yaml
jobs:
  example:
    runs-on: ubuntu-latest

    permissions: {}

    name: Verify container with Cosign
    steps:
      - name: Verify container
        uses: EyeCantCU/cosign-action/verify@v0.1.0
        with:
          container: ghcr.io/ublue-os/silverblue-main:latest
          pubkey: https://raw.githubusercontent.com/ublue-os/main/main/cosign.pub
```
